<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>모의고사</title>
</head>

<body>
  <form action="" onsubmit="return calc();return false">
    <p class="url">
      모의고사 : <a href="https://programmers.co.kr/learn/courses/30/lessons/42840?language=javascript" target="_blank">모의고사</a>
    </p>
    <input type="text" name="number" id="inputValue" value="">
    <button type="submit">확인</button>
  </form>
  <p id="outputValue"></p>
  <script>
    function solution(asd) {
      let answers = asd.split(",");
      let answer = [1,2,3];
      let man1 = 0;  //1, 2, 3, 4, 5, 1, 2, 3, 4, 5, ...
      let man2 = 0;  //2, 1, 2, 3, 2, 4, 2, 5, 2, 1, 2, 3, 2, 4, 2, 5, ...
      let man3 = 0;  //3, 3, 1, 1, 2, 2, 4, 4, 5, 5, 3, 3, 1, 1, 2, 2, 4, 4, 5, 5, ...
      let man1Type, man2Type, man3Type, a = 0, b = 0, c=3;

      for (let i = 1; i <= answers.length; i++) {
        // man1 pattern 구하기
        if (i % 5 == 0) {
          man1Type = 5;
          a = 0;
        } else {
          a++;
          man1Type = a;
        }
        // man2 pattern 구하기
        if (i % 2 == 0) {
          // 1~5까지 돌면서 2를 제외하는 로직
          (b >= 5) ? b = 1 : b++;  // 5이상이면 1로 반환
          if (b == 2) {  // 2일 경우 3으로 반환
            man2Type = 3
            b = 3;
          } else {
            man2Type = b;
          }
        } else {
          man2Type = 2;
        }
        if (i % 2 == 0) {
          man3Type = c;
          if (c == 3) {
            c=1;
          } else if (c == 2) {
            c = c * 2;
          } else if (c == 5) {
            c=3;
          } else {
            c++;
          }
        } else {
          man3Type = c;
        }

        (answers[i-1] == man1Type) ? man1++ : man1 ;
        (answers[i-1] == man2Type) ? man2++ : man2 ;
        (answers[i-1] == man3Type) ? man3++ : man3 ;
      }
      console.log(man1, man2, man3);
      if (man1 == man2 && man2 == man3) {
        answer = [1,2,3]
      } else {
        if (man1 < man2) {
          answer.splice(0,1);
          (man2 < man3) ? answer.splice(0, 1) : answer.splice(1, 1);
        } else {
          answer.splice(1, 1);
          (man1.answer < man3.answer) ? answer.splice(0, 1) : answer.splice(1, 1);
        }
      }
      console.log(answer);
      return answer;
    }
    // solution();
    function calc() {
      let line = document.getElementById("inputValue").value;
      document.getElementById("outputValue").innerHTML = solution(line);
      return false;
    }
  </script>
</body>

</html>